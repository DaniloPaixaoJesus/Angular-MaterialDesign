# Docker PostGres
docker run --name postgresdb -e POSTGRES_PASSWORD=postgres -e POSTGRES_USER=postgres -e POSTGRES_DB=payfast -p 5432:5432 -d postgres

# Docker Mongo 
docker run --name mongodb -p 27017:27017 -d mongo

# Docker Redis
docker run --name redisdb -p 6379:6379 -d redis

# MemCache server
docker run --name memcache -d memcached

# Docker MySQL
docker run --name=mysql -e MYSQL_ROOT_PASSWORD=root -e MYSQL_DATABASE=payfast -e MYSQL_ROOT_HOST=% -p 3306:3306 -d mysql/mysql-server

**** create table on postgres
CREATE TABLE pagamentos (
        id serial primary key,
       forma_de_pagamento varchar(255) NOT NULL,
       valor decimal(10,2) NOT NULL,
       moeda varchar(3) NOT NULL,
       status varchar(255) NOT NULL,
       data date,
       descricao text
       );

CREATE TABLE partner (
       id serial primary key,
       name varchar(255) NOT NULL,
       description text NOT NULL,
       activated boolean NOT NULL,
       created_at TIMESTAMP NOT NULL,
       created_by numeric NOT NULL,
       updated_at TIMESTAMP,
       updated_by numeric
);

# Heroku -> install

brew install heroku/brew/heroku
---> app should be managed by git
➜  Heroku-Node-Repo git:(master) heroku apps:create partner-node
Creating ⬢ partner-node... done
https://partner-node.herokuapp.com/ | https://git.heroku.com/partner-node.git

http://w2.cleardb.net/ --> DBasAServce

https://api.elephantsql.com/console/387ae628-6d28-4505-b17b-d5ba8259ae2e/details?

 Heroku-Node-Repo git:(master) heroku apps:create partner-node
Creating ⬢ partner-node... done
https://partner-node.herokuapp.com/ | https://git.heroku.com/partner-node.git
➜  Heroku-Node-Repo git:(master) git remote show
heroku
➜  Heroku-Node-Repo git:(master) git push heroku master
Counting objects: 41, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (34/34), done.
Writing objects: 100% (41/41), 26.07 KiB | 2.61 MiB/s, done.
Total 41 (delta 0), reused 0 (delta 0)
remote: Compressing source files... done.
remote: Building source:
remote:
remote: -----> Node.js app detected
remote:
remote: -----> Creating runtime environment
remote:
remote:        NPM_CONFIG_LOGLEVEL=error
remote:        NODE_VERBOSE=false
remote:        NODE_ENV=production
remote:        NODE_MODULES_CACHE=true
remote:
remote: -----> Installing binaries
remote:        engines.node (package.json):  8.11.3
remote:        engines.npm (package.json):   unspecified (use default)
remote:
remote:        Resolving node version 8.11.3...
remote:        Downloading and installing node 8.11.3...
remote:        Using default npm version: 5.6.0
remote:
remote: -----> Restoring cache
remote:        Skipping cache restore (not-found)
remote:
remote: -----> Building dependencies
remote:        Installing node modules (package.json + package-lock)
remote:
remote:        > dtrace-provider@0.8.7 install /tmp/build_73bf23fda7510a0e3a58d93b4caaf77c/node_modules/dtrace-provider
remote:        > node-gyp rebuild || node suppress-error.js
remote:
remote:        make: Entering directory '/tmp/build_73bf23fda7510a0e3a58d93b4caaf77c/node_modules/dtrace-provider/build'
remote:        TOUCH Release/obj.target/DTraceProviderStub.stamp
remote:        make: Leaving directory '/tmp/build_73bf23fda7510a0e3a58d93b4caaf77c/node_modules/dtrace-provider/build'
remote:        added 231 packages in 9.105s
remote:
remote: -----> Caching build
remote:        Clearing previous node cache
remote:        Saving 2 cacheDirectories (default):
remote:        - node_modules
remote:        - bower_components (nothing to cache)
remote:
remote: -----> Pruning devDependencies
remote:        Skipping because npm 5.6.0 sometimes fails when running 'npm prune' due to a known issue
remote:        https://github.com/npm/npm/issues/19356
remote:
remote:        You can silence this warning by updating to at least npm 5.7.1 in your package.json
remote:        https://devcenter.heroku.com/articles/nodejs-support#specifying-an-npm-version
remote:
remote: -----> Build succeeded!
remote: -----> Discovering process types
remote:        Procfile declares types     -> (none)
remote:        Default types for buildpack -> web
remote:
remote: -----> Compressing...
remote:        Done: 27.8M
remote: -----> Launching...
remote:        Released v3
remote:        https://partner-node.herokuapp.com/ deployed to Heroku
remote:
remote: Verifying deploy... done.
To https://git.heroku.com/partner-node.git
 * [new branch]      master -> master