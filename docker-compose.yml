version: '2'
services:
    mongodb:
        image: mongo
        container_name: mongodb
        environment:
            MONGO_INITDB_DATABASE: cummutedb
        #    MONGO_INITDB_ROOT_USERNAME: root
        #    MONGO_INITDB_ROOT_PASSWORD: example
        ports:
            - '27017:27017'
        volumes:
            #- '/data/db'
            - './data/monbodb:/data/db'
        networks: 
            - commute-network

    # nginx:
    #     build:
    #         dockerfile: ./docker/nginx.dockerfile
    #         context: .
    #     container_name: nginx
    #     ports:
    #         - "80:80"
    #         - "443:443"
    #     networks: 
    #         - commute-network
    # node:
    #     build:
    #         dockerfile: ./docker/node-api.dockerfile
    #         context: .
    #     container_name: node-api
    #     ports:
    #         - "3000:3000"
    #     networks: 
    #         - commute-network
    #     depends_on: 
    #         - "mongodb"
    #         - "nginx"

networks: 
    commute-network:
        driver: bridge
